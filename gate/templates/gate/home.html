{% extends "gate/base.html" %}
{% load static %}
{% block title %}Home ¬∑ Hostel Gate Check{% endblock %}

{% block content %}
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  .hgc-wrap {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: calc(100vh - 100px);
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 40px 20px;
    position: relative;
    overflow: hidden;
  }

  .hgc-wrap::before,
  .hgc-wrap::after {
    content: '';
    position: absolute;
    width: 400px; height: 400px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    animation: float 20s infinite ease-in-out;
  }
  .hgc-wrap::before { top: -200px; left: -200px; animation-delay: 0s; }
  .hgc-wrap::after  { bottom: -200px; right: -200px; animation-delay: 10s; }

  @keyframes float { 0%,100%{transform:translate(0,0) scale(1)} 50%{transform:translate(30px,30px) scale(1.1)} }

  .hgc-card {
    background: rgba(255, 255, 255, 0.98);
    border-radius: 24px;
    box-shadow: 0 25px 70px rgba(0, 0, 0, 0.35);
    padding: 50px;
    max-width: 700px; width: 100%;
    backdrop-filter: blur(20px);
    position: relative; z-index: 1;
    animation: slideUp 0.6s ease-out;
  }

  @keyframes slideUp { from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:translateY(0)} }

  .hgc-header { text-align: center; margin-bottom: 40px; }

  /* --- NEW: Logo styles --- */
  .hgc-logo-wrap {
    display: flex;
    justify-content: center;
    margin-bottom: 16px;
  }
  .hgc-logo {
    height: 64px; width: auto;
    object-fit: contain;
    border-radius: 12px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.12);
  }

  .hgc-icon {
    width: 80px; height: 80px; margin: 0 auto 20px;
    background: linear-gradient(135deg, #667eea 0%, #5a67d8 100%);
    border-radius: 20px; display: flex; align-items: center; justify-content: center;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
    animation: pulse 2s infinite;
  }
  @keyframes pulse { 0%,100%{transform:scale(1);box-shadow:0 10px 30px rgba(102,126,234,.4)} 50%{transform:scale(1.05);box-shadow:0 15px 40px rgba(102,126,234,.6)} }
  .hgc-icon svg { width: 45px; height: 45px; fill: white; }

  .hgc-title {
    color: #2d3748; font-size: 2.4rem; font-weight: 800; margin-bottom: 8px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }
  .hgc-subtitle { color: #718096; font-size: 1rem; font-weight: 500; letter-spacing: 0.5px; }

  .hgc-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 35px; }
  .hgc-stat {
    background: linear-gradient(135deg, #667eea 0%, #5a67d8 100%);
    border-radius: 18px; padding: 30px 25px; text-align: center; color: white;
    box-shadow: 0 12px 28px rgba(102, 126, 234, 0.35);
    transition: all .3s cubic-bezier(.4,0,.2,1); position: relative; overflow: hidden;
  }
  .hgc-stat::before {
    content:''; position:absolute; inset:0;
    background: linear-gradient(135deg, rgba(255,255,255,.1) 0%, transparent 100%);
    opacity:0; transition: opacity .3s ease;
  }
  .hgc-stat:hover { transform: translateY(-5px) scale(1.02); box-shadow: 0 18px 40px rgba(102,126,234,.45); }
  .hgc-stat:hover::before { opacity: 1; }
  .hgc-stat .label { font-size:.85rem; font-weight:600; letter-spacing:1.5px; opacity:.95; margin-bottom:12px; text-transform:uppercase; }
  .hgc-stat .value { font-size:2.8rem; font-weight:800; text-shadow: 2px 2px 8px rgba(0,0,0,.2); line-height:1; }
  .hgc-stat .icon-wrapper { position:absolute; top:15px; right:15px; opacity:.15; font-size:3rem; }

  .hgc-primary {
    display:block; width:100%; text-align:center; text-decoration:none;
    background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
    color:#fff; padding:18px 32px; font-size:1.1rem; border-radius:14px; font-weight:700; letter-spacing:.8px; text-transform:uppercase;
    box-shadow:0 10px 25px rgba(66,153,225,.35); transition: all .3s cubic-bezier(.4,0,.2,1);
    margin-bottom:30px; position:relative; overflow:hidden;
  }
  .hgc-primary::before {
    content:''; position:absolute; top:50%; left:50%; width:0; height:0; border-radius:50%;
    background: rgba(255,255,255,.2); transform: translate(-50%,-50%); transition: width .6s, height .6s;
  }
  .hgc-primary:hover::before { width:300px; height:300px; }
  .hgc-primary:hover { transform: translateY(-3px); box-shadow:0 15px 35px rgba(66,153,225,.5); background: linear-gradient(135deg,#3182ce 0%, #2c5282 100%); }
  .hgc-primary:active { transform: translateY(-1px); }

  .hgc-divider { height:1px; background: linear-gradient(90deg, transparent, #e2e8f0, transparent); margin:30px 0; position:relative; }
  .hgc-divider::after {
    content:'‚Ä¢'; position:absolute; top:50%; left:50%; transform: translate(-50%,-50%);
    background:white; color:#cbd5e0; width:30px; height:30px; display:flex; align-items:center; justify-content:center; font-size:1.2rem;
  }

  .hgc-links { display:grid; grid-template-columns: repeat(3, 1fr); gap:15px; }
  .hgc-link a {
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    text-decoration:none; color:#4c51bf; font-weight:600; font-size:.95rem; padding:20px 15px; border-radius:14px;
    background: linear-gradient(135deg, rgba(102,126,234,.08) 0%, rgba(118,75,162,.08) 100%);
    border:2px solid rgba(102,126,234,.15); transition: all .3s cubic-bezier(.4,0,.2,1); min-height:90px;
  }
  .hgc-link a:hover {
    background: linear-gradient(135deg, rgba(102,126,234,.15) 0%, rgba(118,75,162,.15) 100%);
    border-color: rgba(102,126,234,.3); transform: translateY(-3px); color:#5a67d8; box-shadow:0 8px 20px rgba(102,126,234,.2);
  }
  .hgc-link-icon { font-size:1.8rem; margin-bottom:8px; }

  @media (max-width: 640px) {
    .hgc-card { padding: 35px 25px; }
    .hgc-title { font-size: 1.9rem; }
    .hgc-stats { grid-template-columns: 1fr; gap: 15px; }
    .hgc-stat .value { font-size: 2.3rem; }
    .hgc-links { grid-template-columns: 1fr; }
    .hgc-wrap::before, .hgc-wrap::after { width: 250px; height: 250px; }
  }
</style>

<div class="hgc-wrap">
  <div class="hgc-card">
    <div class="hgc-header">

      <!-- NEW: College Logo slot -->
      <div class="hgc-logo-wrap">
        <img class="hgc-logo" src= "{% static 'gate/logoW.png' %}" alt="College logo">
      </div>
      <div class="hgc-icon">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5zm0 10H7v-2h5V7l5 5-5 5v-3z"/>
        </svg>
      </div>

      <h1 class="hgc-title">Hostel Gate Check</h1>
      <p class="hgc-subtitle">Real-time Student Tracking System</p>
    </div>

    <div class="hgc-stats">
      <div class="hgc-stat" aria-label="Students Inside">
        <div class="icon-wrapper">üè†</div>
        <div class="label">Inside</div>
        <div class="value">{{ inside_count }}</div>
      </div>
      <div class="hgc-stat" aria-label="Students Outside">
        <div class="icon-wrapper">üö∂</div>
        <div class="label">Outside</div>
        <div class="value">{{ outside_count }}</div>
      </div>
    </div>

    <a href="{% url 'check' %}" class="hgc-primary">
      <span style="position: relative; z-index: 1;">Check Student Status</span>
    </a>

    <div class="hgc-divider"></div>

    <div class="hgc-links">
      <div class="hgc-link">
        <a href="{% url 'inside' %}">
          <span class="hgc-link-icon">üìã</span>
          <span>Inside List</span>
        </a>
      </div>
      <div class="hgc-link">
        <a href="{% url 'outside' %}">
          <span class="hgc-link-icon">üö™</span>
          <span>Outside List</span>
        </a>
      </div>
      <div class="hgc-link">
        <a href="{% url 'logs' %}">
          <span class="hgc-link-icon">üìä</span>
          <span>Activity Logs</span>
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

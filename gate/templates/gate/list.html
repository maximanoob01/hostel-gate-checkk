{% extends "gate/base.html" %}
{% block title %}{{ title }} · GateCheck{% endblock %}

{% block content %}
<style>
  * { box-sizing: border-box; }
  .gc-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: calc(100vh - 100px);
    padding: 40px 20px; border-radius: 12px;
  }
  .container { max-width: 1200px; margin: 0 auto; }
  .title {
    color: #fff; font-size: 2rem; text-align: center; margin-bottom: 24px; font-weight: 700;
    text-shadow: 2px 2px 8px rgba(0,0,0,.2);
  }
  .table-card {
    background: rgba(255,255,255,.95);
    border-radius: 20px; padding: 28px;
    box-shadow: 0 20px 60px rgba(0,0,0,.3);
    backdrop-filter: blur(10px);
    overflow-x: auto; animation: fadeIn .3s ease;
  }
  @keyframes fadeIn { from{opacity:0; transform:translateY(12px)} to{opacity:1; transform:none} }

  table { width: 100%; border-collapse: collapse; background: #fff; border-radius: 12px; overflow: hidden; }
  thead { background: linear-gradient(135deg, #667eea 0%, #5a67d8 100%); }
  th { color: #fff; padding: 16px; text-align: left; font-weight: 600; text-transform: uppercase; font-size: .9rem; border: none; }
  td { padding: 14px 16px; border-bottom: 1px solid #e2e8f0; color: #2d3748; font-size: 1rem; }
  tbody tr { transition: transform .15s ease, background .15s ease; }
  tbody tr:hover { background: rgba(102,126,234,.06); transform: scale(1.005); }
  tbody tr:last-child td { border-bottom: none; }

  .empty-state { text-align: center; padding: 32px 12px; color: #718096; font-size: 1.05rem; }

  .home-link { text-align: center; margin-top: 18px; }
  .home-link a {
    color: #fff; text-decoration: none; font-weight: 600; padding: 10px 22px; border-radius: 10px;
    background: rgba(255,255,255,.22); display: inline-block; transition: all .2s ease; backdrop-filter: blur(10px);
  }
  .home-link a:hover { background: rgba(255,255,255,.32); transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,.2); }

  /* Mobile stacked table */
  @media (max-width: 640px){
    table, thead, tbody, th, td, tr { display: block; }
    thead tr { position: absolute; top: -9999px; left: -9999px; }
    tr { margin-bottom: 14px; border: 2px solid #e2e8f0; border-radius: 10px; padding: 10px; background: #fff; }
    td { border: none; position: relative; padding-left: 50%; text-align: right; }
    td:before {
      position: absolute; left: 12px; width: 45%; padding-right: 10px; white-space: nowrap;
      text-align: left; font-weight: 600; color: #4a5568;
      content: attr(data-label);
    }
  }
</style>

<div class="gc-bg">
  <div class="container">
    <h1 class="title">{{ title }}</h1>

    <div class="table-card">
      <table aria-label="{{ title }}">
        <thead>
          <tr>
            <th>Enrollment</th>
            <th>Name</th>
            <th>Hostel</th>
            <th>Phone</th>
          </tr>
        </thead>
        <tbody>
          {% for s in students %}
            <tr>
              <td data-label="Enrollment">{{ s.enrollment_number }}</td>
              <td data-label="Name">{{ s.full_name }}</td>
              <td data-label="Room">{{ s.room_number }}</td>
              <td data-label="Phone">{{ s.phone }}</td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="4" class="empty-state">No records.</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="home-link">
      <a href="{% url 'home' %}">← Back to Home</a>
    </div>
  </div>
</div>
{% endblock %}
